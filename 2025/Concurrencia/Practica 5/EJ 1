--Se requiere modelar un puente de un solo sentido, el puente solo soporta el peso de 5 unidades de peso.
--Cada auto pesa 1 unidad, cada camioneta pesa 2 unidades y cada camión 3 unidades. Suponga que hay una 
--cantidad innumerable de vehículos (A autos, B camionetas y C camiones). a. Realice la solución 
--suponiendo que todos los vehículos tienen la misma prioridad. b. Modifique la solución para que tengan 
--mayor prioridad los camiones que el resto de los vehículos

procedure Puente is

task type vehículo is
   entry Ident(tipo:in String);
end vehículo;

task Administrador is
   entry Pasar(tipo: IN String;pase: out Boolean);
   entry Salir(tipo: IN String);
end Administrador;

arrVehiculos: array (1..N) of vehículo;

task body Administrador is
cant:Integer;
begin
   cant:=0;
   loop
      select
         when (Salir'Count=0) accept Pasar(tipo: IN String;pase: out Boolean) do
            pase:=true;
            if (cant<5) then
               if (tipo = "camion") and (cant+3<5) then
                  cant:=cant+3;
               elsif (tipo = "camioneta") and (cant+2<5) then
                  cant:=cant+2;
               elsif (tipo = "auto") and (cant+1<5) then
                  cant:=cant+1;
               end if;
            else
               pase:=False;
            end if; 
      end Pasar;
      accept Salir(tipo: IN String) do
         if (tipo = "camion") then
               cant:=cant-3;
            elsif (tipo = "camioneta") then
               cant:=cant-2;
            elsif (tipo = "auto") then
               cant:=cant-1;
            end if;
      end Salir;
   end loop;
end Administrador;

task body vehículo is
begin
   tipo:String;
   Administrador.Pasar (tipo : IN String, pase : out Boolean)
end vehículo;
begin
         
end Puente;